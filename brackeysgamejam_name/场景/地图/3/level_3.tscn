[gd_scene load_steps=17 format=3 uid="uid://bhxoi88e4kpar"]

[ext_resource type="PackedScene" uid="uid://bcdxtwprt24cm" path="res://场景/地图/继承/level.tscn" id="1_jkjbw"]
[ext_resource type="Script" path="res://场景/地图/3/level_3.gd" id="2_6qlcp"]
[ext_resource type="Texture2D" uid="uid://es7vr0vyx3hw" path="res://_资源/场景1/底1.png" id="3_yqipi"]
[ext_resource type="Texture2D" uid="uid://b3pm8opfmafmm" path="res://_资源/场景1/底2（云）.png" id="4_lqfth"]
[ext_resource type="Texture2D" uid="uid://cg7cqxa7j1syi" path="res://_资源/场景3/后景（小孩头消失）.png" id="5_3b8eg"]
[ext_resource type="Texture2D" uid="uid://j4lup03345tt" path="res://_资源/场景1/底4（中景）.png" id="6_ltjyx"]
[ext_resource type="Texture2D" uid="uid://dj48op77tphp5" path="res://_资源/场景1/底5（前景）.png" id="7_x44nj"]
[ext_resource type="Texture2D" uid="uid://ft50b4a8b484" path="res://_资源/2/零件x4.png" id="8_skuhr"]
[ext_resource type="PackedScene" uid="uid://douwj6xpqrvo1" path="res://场景/地板/floor_1.tscn" id="9_cf487"]
[ext_resource type="Script" path="res://脚本/EntryPoint.gd" id="10_rb45p"]
[ext_resource type="PackedScene" uid="uid://cmlt5k61om75r" path="res://场景/小组件/门/door.tscn" id="11_6pq1g"]
[ext_resource type="PackedScene" uid="uid://d3pdj2pxxurb6" path="res://场景/人物/主角/player.tscn" id="12_veuc3"]
[ext_resource type="PackedScene" uid="uid://yv21d5ap61pu" path="res://场景/小组件/摄像机/camera.tscn" id="13_8kjev"]

[sub_resource type="Animation" id="Animation_iftj8"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BG/2/云:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(965, 382)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("BG/2/云2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(965, 382)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("BG/2/云:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_oey36"]
resource_name = "yun"
length = 4.0
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BG/2/云:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.4, 2, 2.0001),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(965, 382), Vector2(-1519.3, 382), Vector2(4514, 382), Vector2(4514, 382)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("BG/2/云2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1.4, 2, 4),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(4514, 382), Vector2(2029.7, 382), Vector2(965, 382), Vector2(-1519.3, 382)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("BG/2/云:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1.4, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_j8snc"]
_data = {
"RESET": SubResource("Animation_iftj8"),
"yun": SubResource("Animation_oey36")
}

[node name="Level_3" instance=ExtResource("1_jkjbw")]
script = ExtResource("2_6qlcp")
text = "3"
self_path = "res://场景/地图/3/level_3.tscn"
enemy_num = 5

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="0"]
libraries = {
"": SubResource("AnimationLibrary_j8snc")
}
autoplay = "yun"
speed_scale = 0.05

[node name="1" type="ParallaxLayer" parent="BG" index="0"]
motion_scale = Vector2(0, 0)

[node name="底1" type="Sprite2D" parent="BG/1" index="0"]
position = Vector2(965, 382)
texture = ExtResource("3_yqipi")

[node name="2" type="ParallaxLayer" parent="BG" index="1"]
position = Vector2(153, 192)
motion_scale = Vector2(0, 0)

[node name="云" type="Sprite2D" parent="BG/2" index="0"]
modulate = Color(1, 1, 1, 0)
position = Vector2(965, 382)
texture = ExtResource("4_lqfth")

[node name="云2" type="Sprite2D" parent="BG/2" index="1"]
position = Vector2(965, 382)
texture = ExtResource("4_lqfth")

[node name="3" type="ParallaxLayer" parent="BG" index="2"]
scale = Vector2(0.7, 0.7)
motion_scale = Vector2(0.05, 0)

[node name="底1" type="Sprite2D" parent="BG/3" index="0"]
position = Vector2(1661.43, 827.143)
texture = ExtResource("5_3b8eg")

[node name="底2" type="Sprite2D" parent="BG/3" index="1"]
position = Vector2(3977.14, 827.143)
texture = ExtResource("5_3b8eg")

[node name="底3" type="Sprite2D" parent="BG/3" index="2"]
position = Vector2(-652.857, 831.429)
texture = ExtResource("5_3b8eg")

[node name="4" type="ParallaxLayer" parent="BG" index="3"]
position = Vector2(0, -64)
motion_scale = Vector2(0.3, 0.3)

[node name="底1" type="Sprite2D" parent="BG/4" index="0"]
position = Vector2(965, 554.3)
scale = Vector2(0.7, 0.7)
texture = ExtResource("6_ltjyx")
region_enabled = true
region_rect = Rect2(0, 0, 2808, 1118)

[node name="底2" type="Sprite2D" parent="BG/4" index="1"]
position = Vector2(2928, 557.3)
scale = Vector2(0.7, 0.7)
texture = ExtResource("6_ltjyx")

[node name="底3" type="Sprite2D" parent="BG/4" index="2"]
position = Vector2(-998, 551.3)
scale = Vector2(0.7, 0.7)
texture = ExtResource("6_ltjyx")
region_enabled = true
region_rect = Rect2(0, 0, 2804, 1118)

[node name="5" type="ParallaxLayer" parent="BG" index="4"]
position = Vector2(0, -168)
motion_scale = Vector2(0.5, 1)

[node name="底1" type="Sprite2D" parent="BG/5" index="0"]
position = Vector2(805, 309)
scale = Vector2(0.7, 0.7)
texture = ExtResource("7_x44nj")

[node name="底2" type="Sprite2D" parent="BG/5" index="1"]
position = Vector2(2427, 309)
scale = Vector2(0.7, 0.7)
texture = ExtResource("7_x44nj")

[node name="底3" type="Sprite2D" parent="BG/5" index="2"]
position = Vector2(-817, 309)
scale = Vector2(0.7, 0.7)
texture = ExtResource("7_x44nj")

[node name="花环" type="Sprite2D" parent="BG/5" index="3"]
position = Vector2(-1338.05, -67)
scale = Vector2(0.7, 0.7)
texture = ExtResource("8_skuhr")
region_enabled = true
region_rect = Rect2(875, 95, 237, 221)

[node name="花环2" type="Sprite2D" parent="BG/5" index="4"]
position = Vector2(-793.05, -67)
scale = Vector2(0.7, 0.7)
texture = ExtResource("8_skuhr")
region_enabled = true
region_rect = Rect2(875, 95, 237, 221)

[node name="花环3" type="Sprite2D" parent="BG/5" index="5"]
position = Vector2(-272.05, -67)
scale = Vector2(0.7, 0.7)
texture = ExtResource("8_skuhr")
region_enabled = true
region_rect = Rect2(875, 95, 237, 221)

[node name="花环4" type="Sprite2D" parent="BG/5" index="6"]
position = Vector2(287.9, -67)
scale = Vector2(0.7, 0.7)
texture = ExtResource("8_skuhr")
region_enabled = true
region_rect = Rect2(875, 95, 237, 221)

[node name="花环5" type="Sprite2D" parent="BG/5" index="7"]
position = Vector2(832.9, -67)
scale = Vector2(0.7, 0.7)
texture = ExtResource("8_skuhr")
region_enabled = true
region_rect = Rect2(875, 95, 237, 221)

[node name="花环6" type="Sprite2D" parent="BG/5" index="8"]
position = Vector2(1353.9, -67)
scale = Vector2(0.7, 0.7)
texture = ExtResource("8_skuhr")
region_enabled = true
region_rect = Rect2(875, 95, 237, 221)

[node name="花环7" type="Sprite2D" parent="BG/5" index="9"]
position = Vector2(1908.9, -67)
scale = Vector2(0.7, 0.7)
texture = ExtResource("8_skuhr")
region_enabled = true
region_rect = Rect2(875, 95, 237, 221)

[node name="花环8" type="Sprite2D" parent="BG/5" index="10"]
position = Vector2(2453.9, -67)
scale = Vector2(0.7, 0.7)
texture = ExtResource("8_skuhr")
region_enabled = true
region_rect = Rect2(875, 95, 237, 221)

[node name="花环9" type="Sprite2D" parent="BG/5" index="11"]
position = Vector2(2974.9, -67)
scale = Vector2(0.7, 0.7)
texture = ExtResource("8_skuhr")
region_enabled = true
region_rect = Rect2(875, 95, 237, 221)

[node name="floor" type="Node2D" parent="TileMap" index="1"]
position = Vector2(-932, 520)

[node name="floor1" parent="TileMap/floor" index="0" instance=ExtResource("9_cf487")]
position = Vector2(0, 87)

[node name="floor2" parent="TileMap/floor" index="1" instance=ExtResource("9_cf487")]
position = Vector2(888, 87)

[node name="floor3" parent="TileMap/floor" index="2" instance=ExtResource("9_cf487")]
position = Vector2(1777, 87)

[node name="entry1" type="Marker2D" parent="EntryPoint" index="0"]
position = Vector2(-638, 590)
script = ExtResource("10_rb45p")

[node name="door" parent="Door" index="0" instance=ExtResource("11_6pq1g")]
position = Vector2(-631, 588)
path = "res://场景/地图/_main/main.tscn"
entry_point = "entry3"
isopen = true

[node name="door2" parent="Door" index="1" instance=ExtResource("11_6pq1g")]
position = Vector2(836, 581)
path = "res://场景/地图/4/level_4.tscn"
entry_point = "entry1"
isopen = true

[node name="CanvasModulate" parent="light" index="0"]
color = Color(1, 1, 1, 1)

[node name="Player" parent="." index="8" instance=ExtResource("12_veuc3")]
position = Vector2(-632, 584)

[node name="Camera" parent="." index="9" instance=ExtResource("13_8kjev")]
position = Vector2(-38, 2108)
limit_left = -1600
limit_top = -360
limit_bottom = 700
p = Vector2(0, -364)
